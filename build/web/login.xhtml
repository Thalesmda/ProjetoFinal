<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">

    <h:head>
        <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
        <meta name="Pablo Rangel" content="Sistema de Gerência de Vendas (SisGerV)"></meta>
        <title>SisGerI</title>
    </h:head>

    <h:body>
        <ui:include src="menu_aberto.xhtml"/>
        <b:container fluid="true" style="padding-top: 80px; padding-left: 30%; padding-right: 30%; font-size: smaller;" >
            <h:form id="loginForm">
                <b:panel title="Efetue Login" look="primary">
                    <b:row>
                        <b:column medium-screen="2">
                            <h:outputText value="E-mail:"/>
                        </b:column>
                        <b:column medium-screen="10">
                            <b:inputText  placeholder="Entre com o e-mail" rendered="true" required="true" required-message="O e-mail é obrigatório" id="email" value="#{controladorLogin.login.email}" ajax="true" autocomplete="false" update="@(.message)">
                                <f:facet name="prepend">
                                    <b:icon name="user" />
                                </f:facet>
                            </b:inputText>
                        </b:column>
                    </b:row>
                    <b:row tooltip="Coloque aqui sua senha">
                        <b:column medium-screen="2">
                            <h:outputText value="Senha:" />
                        </b:column>
                        <b:column medium-screen="10">
                            <b:inputSecret placeholder="Entre com a senha"  rendered="true" required="true" required-message="A senha é obrigatória" id="password" value="#{controladorLogin.login.senha}" ajax="true" autocomplete="false" update="@(.message)">
                                <f:facet name="prepend">
                                    <b:iconAwesome name="key" />
                                </f:facet>
                            </b:inputSecret>
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column span="10" offset="2">
                            <p>
                                <b:commandButton value="Entrar" action="#{controladorLogin.getPerfil()}" actionListener="#{controladorLogin.efetuarLogin()}" update="@form" look="primary" style="width:100%" />
                            </p>
                        </b:column>
                    </b:row>
                    <b:row>
                        <b:column span="10" offset="2">
                            <p>
                                <b:commandButton value="Esqueci a senha" onclick="ajax:loginBean.forgotPassword()" update="@form" look="danger" style="width:100%" />
                            </p>
                        </b:column>
                    </b:row>
                </b:panel>
                <b:well id="mensagem" styleClass="message-well" style="margin-top:10px">
                    <b:message for="email"/>
                    <b:message for="senha"/>
                    <p>#{controladorLogin.getMensagem()}</p>
                </b:well>
            </h:form>
        </b:container>
    </h:body>
</html>

